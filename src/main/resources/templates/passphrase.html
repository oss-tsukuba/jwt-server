<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Passphrase</title>
    <link th:href="@{css/common2.css}" rel="stylesheet" />
    <link th:href="@{css/index.css}" rel="stylesheet" />    
    <link th:href="@{webjars/bootstrap/5.1.2/css/bootstrap.min.css}" rel="stylesheet"/>
    <script th:href="@{webjars/jquery/3.6.0/js/jquery.min.js}"></script>
    <script th:href="@{webjars/bootstrap/5.1.2/js/bootstrap.min.js}"></script>
</head>

<body class="text-center">

<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <main role="main" class="inner cover">
        <h1 class="cover-heading">Passphrase</h1>

        <br>
 		<br>
 		<span class="h3">USER : </span> <span class="h2" th:text="${user}"></span>
 		<br>
 		<br>

		<span class="h3">Passphrase: </span>
		<br>
        <span class="h2 passphrase" th:text="${passphrase}" id="passphrase"></span>
        <button onclick="copyToClipboard('passphrase')">copy</button>
        
        <br>
        <br>
        
        <span class="h3">You can execute jwt-agent as follows: </span>
        <br>
        <span class="h2 passphrase" th:text="'jwt-agent -s ' + ${uri} + ' -l ' + ${user}" id="usage"></span>
        <button onclick="copyToClipboard('usage')">copy</button>
        <br>
        <br>
        
        <div class="attention">
        This passphrase is only available on this page.  When you leave
        this page, you will not be able to see it again and will need to
        regenerate a refresh token.
        </div>
		<br>
		
        <a href="menu">back</a>
    </main>
</div>

    <script>
        function copyToClipboard(id) {
            var copyTarget = document.getElementById(id);
            var text = copyTarget.textContent;
            navigator.clipboard.writeText(text);
        }
    </script>
</body>
